(function(t){function e(e){for(var s,i,o=e[0],l=e[1],c=e[2],f=0,d=[];f<o.length;f++)i=o[f],a[i]&&d.push(a[i][0]),a[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},a={1:0},n=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([9,0]),r()})({"+eef":function(t,e,r){},"1g07":function(t,e,r){"use strict";var s=r("fwbU"),a=r.n(s);a.a},9:function(t,e,r){t.exports=r("Vtdi")},AcwF:function(t,e,r){"use strict";var s=r("MmSJ"),a=r.n(s);a.a},Jd8h:function(t,e,r){},MmSJ:function(t,e,r){},P54E:function(t,e,r){"use strict";var s=r("Jd8h"),a=r.n(s);a.a},RnhZ:function(t,e,r){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(t){var e=n(t);return r(e)}function n(t){var e=s[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="RnhZ"},SW6G:function(t,e,r){"use strict";var s=r("Ybv4"),a=r.n(s);a.a},SYz0:function(t,e,r){},Vtdi:function(t,e,r){"use strict";r.r(e);r("VRzm");var s=r("Kw5r"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex",attrs:{id:"app"}},[r("div",{staticClass:"search-and-results d-flex flex-column w-75 p-3"},[r("div",{staticClass:"search"},[r("search-panel")],1),r("div",{staticClass:"d-flex container border border-secondary p-2 mh-0"},[r("flights")],1)]),r("div",{staticClass:"tickets w-25 py-3 pr-3"},[r("cart")],1)])},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"containter border border-secondary p-2",class:{processing:t.isProcessing}},[r("form",{attrs:{name:"searchFlight",id:"searchFlight"}},[r("div",{staticClass:"row is-12"},[r("div",{staticClass:"col-6"},[r("label",{staticClass:"label"},[t._v("Departure")]),r("airport-selector",{class:{"border border-danger":t.fieldErrors("departure").length>0},attrs:{"selected-airport":t.departure},model:{value:t.departure,callback:function(e){t.departure=e},expression:"departure"}}),r("error-list",{attrs:{"errors-to-show":t.fieldErrors("departure")}})],1),r("div",{staticClass:"col-6"},[r("label",{staticClass:"label"},[t._v("Destination")]),r("airport-selector",{attrs:{"selected-airport":t.destination,filtered:t.filteredDestination},model:{value:t.destination,callback:function(e){t.destination=e},expression:"destination"}}),r("error-list",{attrs:{"errors-to-show":t.fieldErrors("destination")}})],1)]),r("div",{staticClass:"row is-12"},[r("div",{staticClass:"col-6"},[r("label",{staticClass:"label"},[t._v("Date of departure")]),r("datepicker",{staticClass:"date-selector",attrs:{format:t.dateFormat,"clear-button":!0,disabledDates:t.disabledDates},model:{value:t.travelDate,callback:function(e){t.travelDate=e},expression:"travelDate"}}),r("error-list",{attrs:{"errors-to-show":t.fieldErrors("travelDate")}})],1),r("div",{staticClass:"col-6"},[r("label",{staticClass:"label"},[t._v("Date of return")]),r("datepicker",{staticClass:"date-selector",attrs:{format:t.dateFormat,"clear-button":!0,disabledDates:t.disabledDates},model:{value:t.returnDate,callback:function(e){t.returnDate=e},expression:"returnDate"}}),r("error-list",{attrs:{"errors-to-show":t.fieldErrors("returnDate")}})],1)]),r("div",{staticClass:"row p-2"},[r("p",{staticClass:"control m-2"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.validateForm}},[t._v("Search")])])])])])},o=[],l=r("yT7P"),c=r("L2JU"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"select"},[t.airports?r("select",{attrs:{"aria-placeholder":"Select an airport"},on:{input:function(e){t.$emit("input",e.target.value)}}},[r("option",{attrs:{value:""}},[t._v("\n            Select an airport\n        ")]),t._l(t.airports,function(e){return r("option",{key:e.iata,domProps:{value:e.iata,selected:t.selectedAirport===e.iata}},[t._v("\n                "+t._s(e.shortName)+"\n        ")])})],2):t._e()])},f=[],d={name:"AirportSelector",props:{selectedAirport:String,filtered:{type:Boolean,required:!1}},computed:{airports:function(){return this.filtered&&this.$store.state.filteredDestinations&&this.$store.state.filteredDestinations.length>0?this.$store.state.filteredDestinations:this.$store.state.stations}}},h=d,p=(r("1g07"),r("KHd+")),v=Object(p["a"])(h,u,f,!1,null,"211d6e86",null),m=v.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.errorsToShow?r("div",{staticClass:"container"},t._l(t.errorsToShow,function(e,s){return r("div",{key:"error-"+s,staticClass:"row align-middle"},[r("i",{staticClass:"fa fa-warning text-danger pl-1 mt-1 mr-1 align-middle"}),r("span",{directives:[{name:"show",rawName:"v-show",value:e,expression:"error"}],staticClass:"text text-danger"},[t._v(t._s(Object.values(e)[0]))])])})):t._e()},j=[],b={name:"ErrorList",props:{errorsToShow:Array}},D=b,k=(r("P54E"),Object(p["a"])(D,g,j,!1,null,null,null)),y=k.exports,_=r("+jP+"),C={name:"SearchPanel",data:function(){return{formErrors:[],dateFormat:"yyyy-MM-dd",disabledDates:{to:new Date}}},methods:Object(l["a"])({validateForm:function(){this.formErrors=[],this.departure||this.formErrors.push({departure:"Please select an airport"}),this.destination||this.formErrors.push({destination:"Please select an airport"}),this.departure===this.destination&&this.formErrors.push({destination:"Destination airport must be different than departure"}),this.travelDate||this.formErrors.push({travelDate:"Please select a travel date"}),this.travelDate&&new Date(this.travelDate)<new Date&&this.formErrors.push({travelDate:"Selected travel date is in the past"}),this.travelDate&&this.returnDate&&new Date(this.travelDate)>new Date(this.returnDate)&&this.formErrors.push({travelDate:"Date of return must be later than travel date"}),0===this.formErrors.length&&this.fetchFlights()},fieldErrors:function(t){return this.formErrors.filter(function(e){return e[t]})}},Object(c["b"])(["fetchStations","fetchFlights"]),{formatDate:function(t){var e=new Date(t),r=e.getFullYear(),s=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(r,"-").concat(s,"-").concat(a)}}),computed:{isProcessing:function(){return this.$store.state.isProcessing},departure:{get:function(){return this.$store.state.departure},set:function(t){this.$store.commit("setDeparture",t),this.$store.commit("filterDestinations",t)}},filteredDestination:function(){return Boolean(""!=this.departure)},destination:{get:function(){return this.$store.state.destination},set:function(t){this.$store.commit("setDestination",t)}},travelDate:{get:function(){return this.$store.state.travelDate},set:function(t){this.$store.commit("setTravelDate",t)}},returnDate:{get:function(){return this.$store.state.returnDate},set:function(t){this.$store.commit("setReturnDate",t)}}},components:{AirportSelector:m,ErrorList:y,Datepicker:_["a"]},created:function(){this.fetchStations()}},w=C,x=(r("p+GJ"),Object(p["a"])(w,i,o,!1,null,"7dbadc9c",null)),S=x.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.flights?r("div",{staticClass:"d-flex w-100"},[t.flights.length>0?r("div",{staticClass:"d-flex flex-column w-50 p-3"},[r("h1",[t._v("Flights")]),r("h2",[t._v(t._s(t.airportName(t.departure))+" - "+t._s(t.airportName(t.destination)))]),t._l(t.flights,function(e){return r("div",{key:e.flightnumber,staticClass:"flights border border-primary w-100 p-1 my-1"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Departure: ")]),t._v(t._s(t._f("formatFullDate")(e.departure)))])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Arrive: ")]),t._v(t._s(t._f("formatFullDate")(e.arrival)))])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Remaining tickets: ")]),t._v(t._s(e.remainingTickets))])]),r("tickets",{attrs:{flight:e,route:{departure:t.departure,destination:t.destination}}})],1)})],2):t._e(),r("div",{staticClass:"return-flights d-flex flex-column w-50 p-3"},[r("h1",[t._v("Return Flights:")]),r("h2",[t._v(t._s(t.airportName(t.destination))+" - "+t._s(t.airportName(t.departure)))]),t._l(t.returnFlights,function(e){return t.returnFlights?r("div",{key:e.flightnumber,staticClass:"flights border border-primary w-100 p-1 my-1"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Departure: ")]),t._v(t._s(t._f("formatFullDate")(e.departure)))])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Arrive: ")]),t._v(t._s(t._f("formatFullDate")(e.arrival)))])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("span",[t._v("Remaining tickets: ")]),t._v(t._s(e.remainingTickets))])]),r("tickets",{attrs:{flight:e,route:{departure:t.destination,destination:t.departure}}})],1):t._e()}),t.returnDate?t._e():r("div",[r("label",{attrs:{for:"returnDate"}},[t._v("Select a return date")]),r("datepicker",{attrs:{name:"returnDate",format:t.dateFormat,"clear-button":!0,disabledDates:t.disabledDates},on:{closed:function(e){t.fetchFlights()}},model:{value:t.returnDate,callback:function(e){t.returnDate=e},expression:"returnDate"}})],1)],2),0===t.flights.length?r("div",{staticClass:"c-error"},[t._v("\n        There are not available flights!\n    ")]):t._e()]):t._e()},E=[],O=(r("dRSK"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[0!==t.flight.remainingTickets?r("div",{staticClass:"d-flex flex-row justify-content-start mw-100"},t._l(t.flight.fares,function(e){return r("div",{key:e.fareSellKey,staticClass:"m-1 p-1"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(r){t.selectTicket(t.route,t.flight,e)}}},[t._v(t._s(e.bundle)),r("br"),t._v(t._s(e.price))])])})):t._e(),0===t.flight.remainingTickets?r("div",{staticClass:"row"},[r("span",{staticClass:"border border-warning"},[t._v("Tickets not available for this flight")])]):t._e()])}),z=[],T=r("wd/R"),R=r.n(T);function P(t){return R()(t).format("YYYY-MM-DD")}function Y(t){return R()(t).format("YYYY-MM-DD HH:mm")}var $={name:"Tickets",props:{flight:[Object,String],route:Object},data:function(){return{fieldErrors:[]}},methods:{selectTicket:function(t,e,r){this.fieldErrors=[];var s={route:t,ticket:r,arrive:e.arrival,departure:e.departure,flightNumber:e.flightNumber,flight:e},a=this.tickets.find(function(t){return t.flightNumber===e.flightNumber});if(a)this.fieldErrors.push({ticket:"A ticket for this flight is already in the cart"});else{var n=this.tickets.find(function(t){return P(t.departure)===P(s.departure)});n?this.fieldErrors.push({ticket:"You can select only one ticket per day"}):(this.$store.commit("addTicketToCart",s),e.remainingTickets--)}}},computed:{tickets:function(){return this.$store.state.tickets}},components:{ErrorList:y}},M=$,N=(r("SW6G"),Object(p["a"])(M,O,z,!1,null,"09791e44",null)),U=N.exports,A={name:"Flights",data:function(){return{dateFormat:"yyyy-MM-dd",disabledDates:{to:new Date}}},methods:Object(l["a"])({},Object(c["b"])(["fetchFlights"]),{airportName:function(t){var e=this.airports.find(function(e){return e.iata==t});return e.shortName}}),computed:{flights:function(){return this.$store.state.flights},returnFlights:function(){return this.$store.state.returnFlights},returnDate:{get:function(){return this.$store.state.returnDate},set:function(t){this.$store.commit("setReturnDate",t)}},departure:function(){return this.$store.state.departure},destination:function(){return this.$store.state.destination},airports:function(){return this.$store.state.stations}},filters:{formatDate:P,formatFullDate:Y},components:{Tickets:U,Datepicker:_["a"]}},J=A,V=(r("AcwF"),Object(p["a"])(J,F,E,!1,null,"a968e3e0",null)),I=V.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart border border-secondary w-100 p-2 bg-light"},[r("h1",[t._v("Tickets")]),t._l(t.tickets,function(e){return r("div",{key:e.ticket.fareSellKey,staticClass:"border-bottom border-warning text-center py-2"},[r("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.airportName(e.route.departure))+" - "+t._s(t.airportName(e.route.destination)))]),r("div",{staticClass:"py-1 text-info"},[t._v(t._s(t.formatFullDate(e.flight.departure))+" - "+t._s(t.formatFullDate(t.formatFullDate(e.flight.arrival))))]),r("span",{staticClass:"mx-3"},[t._v(t._s(e.ticket.bundle))]),r("span",{staticClass:"mx-3"},[t._v(t._s(e.ticket.price))]),r("button",{staticClass:"btn btn-danger mx-3 my-2",attrs:{type:"button"},on:{click:function(r){t.removeFromCart(e)}}},[t._v("Remove")])])}),r("h2",{staticClass:"py-3 text-danger"},[t._v("Total price: "+t._s(t.totalPrice))])],2)},Q=[],K=(r("rGqo"),{name:"Cart",computed:{tickets:function(){return this.$store.state.tickets},flightDetails:function(){return{departure:this.$store.state.departure,destination:this.$store.state.destination}},totalPrice:function(){var t=0;return this.tickets.forEach(function(e){t+=e.ticket.price}),t}},methods:{removeFromCart:function(t){this.$store.commit("removeTicket",t)},airportName:function(t){var e=this.$store.state.stations.find(function(e){return e.iata==t});return e.shortName},formatFullDate:Y}}),L=K,W=(r("yCyF"),Object(p["a"])(L,B,Q,!1,null,null,null)),X=W.exports,Z={name:"app",components:{SearchPanel:S,AirportSelector:m,Flights:I,Cart:X}},q=Z,G=(r("nNx0"),Object(p["a"])(q,a,n,!1,null,null,null)),H=G.exports,tt={fetchStations:function(t){var e=t.getters,r=t.commit,s=e.getStations;r("toggleProcessingState"),r("setTechnicalError",!1),r("setStations",null),s&&fetch(s).then(function(t){return t.json()}).then(function(t){r("setStations",t)}).catch(function(t){console.error(t),r("setTechnicalError",!0)}).then(function(){r("setLastRequestUrl",s),r("toggleProcessingState")})},fetchFlights:function(t){var e=t.getters,r=t.commit,s=e.searchFlights,a=e.searchReturnFlights;r("toggleProcessingState"),r("setTechnicalError",!1),s&&fetch(s).then(function(t){return t.json()}).then(function(t){r("setFlights",t)}).catch(function(t){console.error(t),r("setTechnicalError",!0)}).then(function(){r("setLastRequestUrl",s),r("toggleProcessingState")}),a?fetch(a).then(function(t){return t.json()}).then(function(t){r("setReturnFlights",t)}).catch(function(t){console.error(t),r("setTechnicalError",!0)}).then(function(){r("setLastRequestUrl",s),r("toggleProcessingState")}):r("setReturnFlights",null)}};r("INYr");function et(t){var e=localStorage.getItem("wizz.".concat(t));try{return JSON.parse(e)}catch(t){return e}}function rt(t,e){localStorage.setItem("wizz.".concat(t),JSON.stringify(e))}var st={toggleProcessingState:function(t){t.isProcessing=!t.isProcessing},setTechnicalError:function(t,e){t.hasTechnicalError=!!e},setLastRequestUrl:function(t,e){t.lastRequestUrl=e},setStations:function(t,e){t.stations=e,rt("stations",t.stations)},filterDestinations:function(t,e){if(e){var r=t.stations.find(function(t){return t.iata===e}).connections;t.filteredDestinations=t.stations.filter(function(t){return r.find(function(e){return e.iata===t.iata})})}else t.filteredDestinations=null;rt("filteredDestinations",t.filteredDestinations)},setFlights:function(t,e){t.flights=e,rt("flights",t.flights)},setReturnFlights:function(t,e){t.returnFlights=e,rt("returnFlights",t.returnFlights)},setDeparture:function(t,e){t.departure=e,rt("departure",t.departure)},setDestination:function(t,e){t.destination=e,rt("destination",t.destination)},setTravelDate:function(t,e){t.travelDate=e,rt("travelDate",t.travelDate)},setReturnDate:function(t,e){t.returnDate=e,rt("returnDate",t.returnDate)},addTicketToCart:function(t,e){t.tickets.push(e)},removeTicket:function(t,e){var r=t.tickets.findIndex(function(t){return e.ticket.fareSellKey===t.ticket.fareSellKey});t.tickets[r].flight.remainingTickets++,t.tickets.splice(r,1)}},at=(r("f3/d"),"https://mock-air.herokuapp.com/"),nt={searchFlights:function(t){var e=[{name:"departureStation",value:t.departure},{name:"arrivalStation",value:t.destination},{name:"date",value:P(t.travelDate)}],r=e.map(function(t){return"".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(t.value))}).join("&");return"".concat(at,"search?").concat(r)},searchReturnFlights:function(t){if(t.returnDate){var e=[{name:"departureStation",value:t.destination},{name:"arrivalStation",value:t.departure},{name:"date",value:P(t.returnDate)}],r=e.map(function(t){return"".concat(encodeURIComponent(t.name),"=").concat(encodeURIComponent(t.value))}).join("&");return"".concat(at,"search?").concat(r)}},getStations:function(){return"".concat(at,"asset/stations")}},it={isProcessing:!1,hasTechnicalError:!1,lastRequestUrl:null,stations:null,flights:null,returnFlights:null,tickets:[],departure:et("departure")||null,destination:et("destination")||null,filteredDestinations:et("filteredDestinations")||null,travelDate:et("travelDate")||null,returnDate:et("returnDate")||null};s["a"].use(c["a"]);var ot=new c["a"].Store({state:it,getters:nt,mutations:st,actions:tt});s["a"].config.productionTip=!1,new s["a"]({store:ot,render:function(t){return t(H)}}).$mount("#app")},Ybv4:function(t,e,r){},fwbU:function(t,e,r){},nNx0:function(t,e,r){"use strict";var s=r("uWEC"),a=r.n(s);a.a},"p+GJ":function(t,e,r){"use strict";var s=r("SYz0"),a=r.n(s);a.a},uWEC:function(t,e,r){},yCyF:function(t,e,r){"use strict";var s=r("+eef"),a=r.n(s);a.a}});
//# sourceMappingURL=app.fe709074.js.map